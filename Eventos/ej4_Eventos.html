<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox con imagen</title>
    <style>
        #imagen {
            display: none;
        }
    </style>
</head>
<body>
    <form id="formulario">
        <label><input type="checkbox" class="checkbox" value="1"> Opción 1</label><br>
        <label><input type="checkbox" class="checkbox" value="2"> Opción 2</label><br>
        <label><input type="checkbox" class="checkbox" value="3"> Opción 3</label><br>
        <label><input type="checkbox" class="checkbox" value="4"> Opción 4</label><br>
        <label><input type="checkbox" class="checkbox" value="5"> Opción 5</label><br>
        <label><input type="checkbox" class="checkbox" value="6"> Opción 6</label><br><br>
        <button type="button" id="enviar">Enviar</button>
    </form>
    <img id="imagen" src="" alt="Imagen">

    <script>
        var checkboxes = document.querySelectorAll('.checkbox');
        var enviarBtn = document.getElementById('enviar');
        var imagen = document.getElementById('imagen');
        var checkedArray = [];

        // Función para manejar el cambio en los checkboxes
        function manejarCambioCheckbox(checkbox) {
            if (checkbox.checked) {
                checkedArray.push(checkbox); // Añade el checkbox al array
                if (checkedArray.length > 3) {
                    // Si hay más de 3, desmarca el primero y lo quita del array
                    checkedArray[0].checked = false;
                    checkedArray.shift();
                }
            } else {
                // Si el checkbox es desmarcado, lo quitamos del array
                checkedArray = checkedArray.filter(function(item) {
                    return item !== checkbox;
                });
            }
        }

        // Función para comprobar los checkboxes y mostrar la imagen
        function comprobarCheckboxes() {
            var checkedValues = checkedArray.map(function(checkbox) {
                return parseInt(checkbox.value);
            });

            var pares = [2, 4, 6];
            var impares = [1, 3, 5];

            // Comprobamos si están marcados todos los pares
            if (pares.every(function(val) {
                return checkedValues.includes(val);
            })) {
                mostrarImagen('200px');  // Mostrar imagen con tamaño normal
            }
            // Comprobamos si están marcados todos los impares
            else if (impares.every(function(val) {
                return checkedValues.includes(val);
            })) {
                mostrarImagen('400px');  // Mostrar imagen más grande
            } else {
                ocultarImagen();  // Si no coincide, ocultar la imagen
            }
        }

        // Función para mostrar la imagen
        function mostrarImagen(tamano) {
            imagen.style.width = tamano;
            imagen.style.display = 'block';
        }

        // Función para ocultar la imagen
        function ocultarImagen() {
            imagen.style.display = 'none';
        }

        // Añadir el evento 'change' a cada checkbox
        checkboxes.forEach(function(checkbox) {
            checkbox.addEventListener('change', function() {
                manejarCambioCheckbox(checkbox);
            });
        });

        // Añadir el evento 'click' al botón de enviar
        enviarBtn.addEventListener('click', comprobarCheckboxes);
    </script>
</body>
</html>
